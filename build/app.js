!function t(n,r,e){function o(a,c){if(!r[a]){if(!n[a]){var i="function"==typeof require&&require;if(!c&&i)return i(a,!0);if(u)return u(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var l=r[a]={exports:{}};n[a][0].call(l.exports,function(t){var r=n[a][1][t];return o(r?r:t)},l,l.exports,t,n,r,e)}return r[a].exports}for(var u="function"==typeof require&&require,a=0;a<e.length;a++)o(e[a]);return o}({1:[function(t,n,r){angular.module("countriesApp",["ngRoute","ngAnimate"]).config(["$routeProvider",function(t){t.when("/",{templateUrl:"home.html"}).when("/countries",{templateUrl:"countries.html",controller:"country-controller"}).when("/countries/:country/capital",{templateUrl:"detail.html",controller:"country-detail-controller"}).otherwise("/")}]).run(["$rootScope",function(t){t.$on("$routeChangeStart",function(){t.isLoading=!0}),t.$on("$routeChangeSuccess",function(){t.isLoading=!1})}]).factory("countriesRequest",["$http",function(t){return function(){return t.get("http://api.geonames.org/countryInfoJSON?username=tbone849",{cache:!0})}}]).factory("countryRequest",["$http",function(t){return function(n){return t.get("http://api.geonames.org/countryInfoJSON?username=tbone849&country="+n)}}]).factory("capitalRequest",["$http",function(t){return function(n){return t.get("http://api.geonames.org/searchJSON?q=capital&maxRows=1&username=tbone849&country="+n)}}]).factory("neighborsRequest",["$http",function(t){return function(n){return t.get("http://api.geonames.org/neighboursJSON?username=tbone849&country="+n)}}]).controller("country-controller",["$scope","$location","countriesRequest",function(t,n,r){t.setCapitalURL=function(t){n.path("/countries/"+t.countryCode+"/capital")},t.isLoading=!0,r().then(function(n){t.data=n.data.geonames,t.isLoading=!1})}]).controller("country-detail-controller",["$scope","$http","$routeParams","capitalRequest","neighborsRequest","countryRequest",function(t,n,r,e,o,u){var a=0,c=function(){a--,0===a&&(t.loadingComplete=!0)};t.loadingComplete=!1,t.errors=!1;var i=r.country;e(i).then(function(n){t.capital=n.data.geonames[0],c()},function(n){t.capitalError=n.data.status,t.errors=!0}),o(i).then(function(n){t.neighbors=n.data,c()},function(n){t.neighborsError=n.data.status,t.errors=!0}),u(i).then(function(n){t.country=n.data.geonames[0],c()},function(n){t.countryError=n.data.status,t.errors=!0}),a+=3}])},{}]},{},[1]);