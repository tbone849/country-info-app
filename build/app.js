!function t(n,e,o){function r(c,a){if(!e[c]){if(!n[c]){var i="function"==typeof require&&require;if(!a&&i)return i(c,!0);if(u)return u(c,!0);var l=new Error("Cannot find module '"+c+"'");throw l.code="MODULE_NOT_FOUND",l}var s=e[c]={exports:{}};n[c][0].call(s.exports,function(t){var e=n[c][1][t];return r(e?e:t)},s,s.exports,t,n,e,o)}return e[c].exports}for(var u="function"==typeof require&&require,c=0;c<o.length;c++)r(o[c]);return r}({1:[function(t,n,e){angular.module("countriesApp",["ngRoute"]).config(["$routeProvider",function(t){t.when("/",{templateUrl:"home.html"}).when("/countries",{templateUrl:"countries.html",controller:"country-controller"}).when("/countries/:country/capital",{templateUrl:"detail.html",controller:"country-detail-controller"}).otherwise("/")}]).run(["$rootScope",function(t){t.$on("$routeChangeStart",function(){t.isLoading=!0,console.log(t.isLoading)}),t.$on("$routeChangeSuccess",function(){t.isLoading=!1,console.log(t.isLoading)})}]).factory("countriesRequest",["$http",function(t){return function(){return t.get("http://api.geonames.org/countryInfoJSON?username=tbone849",{cache:!0})}}]).factory("countryRequest",["$http",function(t){return function(n){return t.get("http://api.geonames.org/countryInfoJSON?username=tbone849&country="+n)}}]).factory("capitalRequest",["$http",function(t){return function(n){return t.get("http://api.geonames.org/searchJSON?q=capital&maxRows=1&username=tbone849&country="+n)}}]).factory("neighborsRequest",["$http",function(t){return function(n){return t.get("http://api.geonames.org/neighboursJSON?username=tbone849&country="+n)}}]).controller("country-controller",["$scope","$location","countriesRequest",function(t,n,e){e().then(function(n){t.data=n.data.geonames}),t.setCapitalURL=function(t){n.path("/countries/"+t.countryCode+"/capital")}}]).controller("country-detail-controller",["$scope","$http","$routeParams","capitalRequest","neighborsRequest","countryRequest",function(t,n,e,o,r,u){var c=0,a=function(){c--,0===c&&(t.loadingComplete=!0)};t.loadingComplete=!1;var i=e.country;o(i).then(function(n){t.capital=n.data.geonames[0],a()}),r(i).then(function(n){t.neighbors=n.data,a()}),u(i).then(function(n){t.country=n.data.geonames[0],a()}),c+=3}])},{}]},{},[1]);